function [F,V,Xdot] = linearizedModel2(ax,ay,az,bax,bay,baz,bgx,bgy,bgz,dt,nax,nay,naz,nbax,nbay,nbaz,nbgx,nbgy,nbgz,ngx,ngy,ngz,phi,psi,theta,vx,vy,vz,wx,wy,wz)
%LINEARIZEDMODEL2
%    [F,V,XDOT] = LINEARIZEDMODEL2(AX,AY,AZ,BAX,BAY,BAZ,BGX,BGY,BGZ,DT,NAX,NAY,NAZ,NBAX,NBAY,NBAZ,NBGX,NBGY,NBGZ,NGX,NGY,NGZ,PHI,PSI,THETA,VX,VY,VZ,WX,WY,WZ)

%    This function was generated by the Symbolic Math Toolbox version 8.1.
%    12-Apr-2019 14:57:22

t2 = cos(theta);
t3 = sin(theta);
t4 = bgx.*t3;
t5 = t2.*wz;
t6 = ngx.*t3;
t12 = bgz.*t2;
t13 = ngz.*t2;
t14 = t3.*wx;
t7 = t4+t5+t6-t12-t13-t14;
t8 = cos(phi);
t9 = sin(phi);
t10 = 1.0./t8;
t11 = 1.0./t8.^2;
t15 = sin(psi);
t16 = -ax+bax+nax;
t17 = cos(psi);
t18 = -az+baz+naz;
t19 = -ay+bay+nay;
t20 = t3.*t17;
t21 = t2.*t9.*t15;
t22 = t20+t21;
t23 = t3.*t15;
t31 = t2.*t9.*t17;
t24 = t23-t31;
t25 = t2.*t15;
t26 = t3.*t9.*t17;
t27 = t25+t26;
t28 = t2.*t17;
t30 = t3.*t9.*t15;
t29 = t28-t30;
t32 = t2.^2;
t33 = t3.^2;
t34 = t32+t33;
t35 = 1.0./t34;
t36 = bgz+ngz-wz;
t37 = t8.*t32;
t38 = t8.*t33;
t39 = t37+t38;
t40 = 1.0./t39;
t41 = bgx+ngx-wx;
t42 = t16.*t29;
t43 = t18.*t22;
t44 = t16.*t27;
t45 = t18.*t24;
t46 = t8.*t17.*t19;
F = reshape([1.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,1.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,1.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,1.0,-dt.*t7.*t11,dt.*t9.*t11.*(t4+t5+t6-t12-t13-t14),-dt.*(t9.*t15.*t19-t3.*t8.*t15.*t16+t2.*t8.*t15.*t18),dt.*(t9.*t17.*t19-t3.*t8.*t16.*t17+t2.*t8.*t17.*t18),-dt.*(t8.*t19+t3.*t9.*t16-t2.*t9.*t18),0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,dt.*t7,-t10.*(-t8+bgx.*dt.*t2.*t9+bgz.*dt.*t3.*t9+dt.*ngx.*t2.*t9+dt.*ngz.*t3.*t9-dt.*t2.*t9.*wx-dt.*t3.*t9.*wz),dt.*t10.*(bgx.*t2+bgz.*t3+ngx.*t2+ngz.*t3-t2.*wx-t3.*wz),dt.*(t16.*t22-t18.*t29),dt.*(t16.*t24-t18.*t27),dt.*(t2.*t8.*t16+t3.*t8.*t18),0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,1.0,dt.*(t44+t45+t46),-dt.*(t42+t43-t8.*t15.*t19),0.0,0.0,0.0,0.0,0.0,0.0,0.0,dt,0.0,0.0,0.0,0.0,0.0,1.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,dt,0.0,0.0,0.0,0.0,0.0,1.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,dt,0.0,0.0,0.0,0.0,0.0,1.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,-dt.*t2,-dt.*t3.*t9.*t10,dt.*t3.*t10,0.0,0.0,0.0,1.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,-dt,0.0,0.0,0.0,0.0,0.0,1.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,-dt.*t3,dt.*t2.*t9.*t10,-dt.*t2.*t10,0.0,0.0,0.0,0.0,0.0,1.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,-dt.*t2.*t17+dt.*t3.*t9.*t15,-dt.*t27,dt.*t3.*t8,0.0,0.0,0.0,1.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,dt.*t8.*t15,-dt.*t8.*t17,-dt.*t9,0.0,0.0,0.0,0.0,1.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,-dt.*t22,-dt.*t3.*t15+dt.*t2.*t9.*t17,-dt.*t2.*t8,0.0,0.0,0.0,0.0,0.0,1.0],[15,15]);
if nargout > 1
    V = reshape([0.0,0.0,0.0,0.0,0.0,0.0,-t28+t30,-t25-t26,t3.*t8,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,t8.*t15,-t8.*t17,-t9,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,-t20-t21,-t23+t31,-t2.*t8,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,-t2,-t3.*t9.*t10,t3.*t10,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,-1.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,-t3,t2.*t9.*t10,-t2.*t10,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,1.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,1.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,1.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,1.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,1.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,1.0],[15,12]);
end
if nargout > 2
    Xdot = [vx;vy;vz;-t3.*t35.*t36-t2.*t35.*t41;-bgy-ngy+wy+t2.*t9.*t36.*t40-t3.*t9.*t40.*t41;-t2.*t36.*t40+t3.*t40.*t41;-t42-t43+t8.*t15.*t19;-t44-t45-t46;-t9.*t19+t3.*t8.*t16-t2.*t8.*t18+1.0;nbgx;nbgy;nbgz;nbax;nbay;nbaz];
end
